<!doctype html><html lang=ja class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.83.1"><link rel=canonical type=text/html href=/ja/documentation/grid/><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Grid | Selenium</title><meta name=description content="Selenium automates browsers. That's it!"><meta property="og:title" content="Grid"><meta property="og:description" content="Want to run tests in parallel across multiple machines? Then, Grid is for you.
"><meta property="og:type" content="website"><meta property="og:url" content="/ja/documentation/grid/"><meta property="og:site_name" content="Selenium"><meta itemprop=name content="Grid"><meta itemprop=description content="Want to run tests in parallel across multiple machines? Then, Grid is for you.
"><meta name=twitter:card content="summary"><meta name=twitter:title content="Grid"><meta name=twitter:description content="Want to run tests in parallel across multiple machines? Then, Grid is for you.
"><link rel=preload href=/scss/main.min.1534c29bd9e5fdb4036df0c0b7a8552db9b03ad7cdaca01550afae9714dc2a02.css as=style><link href=/scss/main.min.1534c29bd9e5fdb4036df0c0b7a8552db9b03ad7cdaca01550afae9714dc2a02.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand-lg navbar-dark td-navbar"><a class=navbar-brand href=/ja/><span class=navbar-logo><svg id="selenium_logo" data-name="Selenium Logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 139.38 34"><defs><style>.cls-selenium_logo{fill:#fff}</style></defs><title>Selenium</title><path class="cls-selenium_logo" d="M46.2 26.37a18.85 18.85.0 01-2.57-.2 25 25 0 01-2.74-.53v-1.39a25.31 25.31.0 002.71.53 18 18 0 002.5.2 5.51 5.51.0 003.29-.84 2.79 2.79.0 001.14-2.39 2.85 2.85.0 00-1.24-2.49A6 6 0 0048 18.55q-.78-.29-1.67-.55A15.93 15.93.0 0144 17.13a5.92 5.92.0 01-1.58-1.05 3.6 3.6.0 01-.9-1.34A5 5 0 0141.23 13a4.46 4.46.0 01.41-1.93 4.31 4.31.0 011.17-1.5 5.26 5.26.0 011.82-1A8 8 0 0147 8.28a20.51 20.51.0 014.41.57v1.42a20 20 0 00-2.23-.44 15.2 15.2.0 00-2-.15 4.86 4.86.0 00-3.08.9A2.9 2.9.0 0042.88 13a3.25 3.25.0 00.21 1.21 2.61 2.61.0 00.7 1 4.83 4.83.0 001.27.79 14.31 14.31.0 002 .68q1.11.33 2.06.71a6.21 6.21.0 011.65.94 4.09 4.09.0 011.1 1.38 4.54 4.54.0 01.4 2 4.15 4.15.0 01-1.56 3.48A7.16 7.16.0 0146.2 26.37z"/><path class="cls-selenium_logo" d="M60.62 26.32a5.46 5.46.0 01-4.28-1.62A6.9 6.9.0 0154.88 20a7.8 7.8.0 011.43-5 5 5 0 014.14-1.75 4.24 4.24.0 013.47 1.43A6.48 6.48.0 0165.1 18.8q0 .54.0.92a3.22 3.22.0 01-.09.64H56.44a5.39 5.39.0 001.17 3.5A4.18 4.18.0 0060.8 25a10.52 10.52.0 001.82-.17 11.77 11.77.0 001.93-.52l.12 1.27a10.68 10.68.0 01-2 .55A11.47 11.47.0 0160.62 26.32zM60.4 14.43q-3.68.0-3.94 4.74h7.15a6.49 6.49.0 00-.78-3.63A2.76 2.76.0 0060.4 14.43z"/><path class="cls-selenium_logo" d="M68.64 7h1.58V26.11H68.64z"/><path class="cls-selenium_logo" d="M79.56 26.32a5.46 5.46.0 01-4.28-1.62A6.9 6.9.0 0173.83 20a7.8 7.8.0 011.43-5 5 5 0 014.14-1.75 4.24 4.24.0 013.47 1.43A6.48 6.48.0 0184 18.8q0 .54.0.92a3.22 3.22.0 01-.09.64H75.38a5.4 5.4.0 001.17 3.5A4.18 4.18.0 0079.75 25a10.52 10.52.0 001.82-.17 11.8 11.8.0 001.93-.52l.12 1.27a10.68 10.68.0 01-2 .55A11.47 11.47.0 0179.56 26.32zm-.21-11.89q-3.68.0-3.94 4.74h7.15a6.49 6.49.0 00-.78-3.63A2.76 2.76.0 0079.35 14.43z"/><path class="cls-selenium_logo" d="M87.51 13.37h1.32l.12 1.49h.12q.94-.45 1.72-.78t1.43-.54a8.42 8.42.0 011.2-.31 6.54 6.54.0 011.1-.09A3.3 3.3.0 0197 14a3.63 3.63.0 01.83 2.63v9.51H96.24v-9a3 3 0 00-.55-2 2.18 2.18.0 00-1.69-.6 7.25 7.25.0 00-2.24.41 20.1 20.1.0 00-2.67 1.12v10H87.51z"/><path class="cls-selenium_logo" d="M102.75 10.52a.93.93.0 01-1.06-1 1.06 1.06.0 012.12.0.93.93.0 01-1.06 1zm-.8 2.85h1.58V26.11h-1.58z"/><path class="cls-selenium_logo" d="M110.81 26.34q-3.14.0-3.14-3.47v-9.5h1.58v9a3.16 3.16.0 00.48 2 1.92 1.92.0 001.59.6 6.83 6.83.0 002.48-.48q1.25-.48 2.59-1.14V13.37H118V26.11h-1.32l-.12-1.58h-.09l-1.73.81q-.74.34-1.38.57a7.9 7.9.0 01-1.23.33A7.34 7.34.0 01110.81 26.34z"/><path class="cls-selenium_logo" d="M122.18 13.37h1.3l.14 1.49h.09a19.53 19.53.0 012.58-1.31 5.51 5.51.0 012-.41 2.83 2.83.0 013 1.77h.12q.8-.5 1.45-.83a12.61 12.61.0 011.2-.54 6.17 6.17.0 011-.31 5.18 5.18.0 011-.09 3.3 3.3.0 012.45.84 3.63 3.63.0 01.83 2.63v9.51h-1.56v-9a2.9 2.9.0 00-.55-2 2.21 2.21.0 00-1.69-.59 5.14 5.14.0 00-1.78.38A14.45 14.45.0 00131.6 16v10.1H130v-9a2.9 2.9.0 00-.55-2 2.21 2.21.0 00-1.69-.59 5.24 5.24.0 00-1.86.4A14 14 0 00123.76 16V26.11h-1.58z"/><path class="cls-selenium_logo" d="M21.45 21.51a2.49 2.49.0 00-2.55 2.21.08.08.0 00.08.1h4.95a.08.08.0 00.08-.09 2.41 2.41.0 00-2.56-2.22z"/><path class="cls-selenium_logo" d="M32.06 4.91 21.56 16.7a.32.32.0 01-.47.0l-5.36-5.53a.32.32.0 010-.4L17.5 8.5a.32.32.0 01.52.0l3 3.32a.32.32.0 00.49.0L29.87.36A.23.23.0 0029.69.0H.25A.25.25.0 000 .25v33.5A.25.25.0 00.25 34h32a.25.25.0 00.25-.25V5.06A.23.23.0 0032.06 4.91zm-23 25.36a8.08 8.08.0 01-5.74-2 .31.31.0 010-.41l1.25-1.75A.31.31.0 015 26a6.15 6.15.0 004.2 1.64c1.64.0 2.44-.76 2.44-1.56.0-2.48-8.08-.78-8.08-6.06.0-2.33 2-4.27 5.32-4.27a7.88 7.88.0 015.25 1.76.31.31.0 010 .43L12.9 19.65a.31.31.0 01-.45.05 6.08 6.08.0 00-3.84-1.32c-1.28.0-2 .57-2 1.41.0 2.23 8.06.74 8.06 6C14.67 28.33 12.84 30.27 9.05 30.27zM26.68 25.4a.27.27.0 01-.28.28H19a.09.09.0 00-.08.1 2.81 2.81.0 003 2.32 4.62 4.62.0 002.56-.84.27.27.0 01.4.06l.9 1.31a.28.28.0 01-.06.37 6.67 6.67.0 01-4.1 1.28 5.28 5.28.0 01-5.57-5.48 5.31 5.31.0 015.4-5.46c3.11.0 5.22 2.33 5.22 5.74z"/></svg></span></a><button class=navbar-toggler type=button data-toggle=collapse data-target=#main_navbar aria-controls=main_navbar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse justify-content-end" id=main_navbar><ul class="navbar-nav mr-4 mb-2 mb-lg-0 pl-4 pl-lg-2"><li class="nav-item mr-4 mb-2 mb-lg-0"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a class=dropdown-item href=/ja/about>About Selenium</a>
<a class=dropdown-item href=/ja/project>Structure and Governance</a>
<a class=dropdown-item href=/ja/events>Events</a>
<a class=dropdown-item href=/ja/ecosystem>Ecosystem</a>
<a class=dropdown-item href=/ja/history>History</a>
<a class=dropdown-item href=/ja/getinvolved>Get Involved</a>
<a class=dropdown-item href=/ja/sponsors>Sponsors</a></div></li></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/ja/downloads><span>Downloads</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/ja/documentation><span>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/ja/projects><span>Projects</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/ja/support><span>Support</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/ja/blog><span>Blog</span></a></li><li class="nav-item dropdown d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>日本語</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/documentation/grid/>English</a>
<a class=dropdown-item href=/es/documentation/grid/>Español</a>
<a class=dropdown-item href=/de/documentation/grid/>Deutsch</a>
<a class=dropdown-item href=/pt-br/documentation/grid/>Português (Brasileiro)</a>
<a class=dropdown-item href=/nl/documentation/grid/>Nederlands</a>
<a class=dropdown-item href=/zh-cn/documentation/grid/>中文简体</a>
<a class=dropdown-item href=/fr/documentation/grid/>Français</a>
<a class=dropdown-item href=/ko/documentation/grid/>한국어</a></div></li></ul><div class=navbar-nav><input type=search class="form-control td-search-input" placeholder="&#xf002; サイトを検索..." aria-label=サイトを検索... autocomplete=off data-offline-search-index-json-src=/offline-search-index.4b5e6f89a64b869d1aade03ca865912b.json data-offline-search-base-href=/ data-offline-search-max-results=30></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>これは、このセクションの複数ページの印刷可能なビューです。
<a href=# onclick="return print(),!1">印刷するには、ここをクリックしてください</a>.</p><p><a href=/ja/documentation/grid/>このページの通常のビューに戻る</a>.</p></div><h1 class=title>Grid</h1><div class=lead>Want to run tests in parallel across multiple machines? Then, Grid is for you.</div><ul><li>1: <a href=#pg-02408e6f29929673f408cd7c58af2135>グリッドのコンポーネント</a></li><li>2: <a href=#pg-e9f49c6e79dedb0ae60eb7fce9dab623>グリッドを使用する場合</a></li><li>3: <a href=#pg-49f410f0a27a1900aa33b689ecafdefb>独自のグリッドを設定する</a></li><li>4: <a href=#pg-043e53f63643a280f0471d5300fdb10d>コンポーネントの構成</a></li><ul><li>4.1: <a href=#pg-bffb684498ef2064a08d1275054eeb9c>構成ヘルプ</a></li></ul><li>5: <a href=#pg-abac6f77089fbf05fa24eca43aebeddf>高度な機能</a></li><ul><li>5.1: <a href=#pg-cff3310fa01f534cfe804c3e76ae9056>Observability</a></li><li>5.2: <a href=#pg-b11540ed82255545d0e8201c6e111a70>GraphQLクエリのサポート</a></li><li>5.3: <a href=#pg-105bc319afd22086b340fa924a506dd6>Grid Endpoints</a></li></ul></ul><div class=content><div class="pageinfo pageinfo-warning"><p class=lead><i class="fas fa-language display-4"></i>
Page being translated from
English to Japanese. Do you speak Japanese? Help us to translate
it by sending us pull requests!</p></div><p>Selenium Grid では、クライアントからリモートブラウザーインスタンスに送信されたコマンドを
ルーティングすることにより、（仮想または実）リモートマシン上でWebDriverスクリプトを実行できます。
複数のマシンで並行してテストを実行する簡単な方法を提供することを目的としています。</p><p>Selenium Gridは、複数のマシンで並行してテストを実行し、異なるブラウザーバージョンと
ブラウザーの設定を（個別のテストではなく）一元的に管理することができます。</p><p>Selenium Gridは特効薬ではありません。
一般的な委譲および配布の問題のサブセットを解決しますが、たとえばインフラストラクチャを管理せず、特定のニーズに適さない場合があります。</p><h2 id=目的と主な機能>目的と主な機能</h2><ul><li>すべてのテストの中央エントリポイント</li><li>ブラウザーが実行されるノード・環境の管理と制御</li><li>スケーリング</li><li>テストを並列実行</li><li>クロスプラットフォームでのテスト</li><li>負荷分散</li></ul><p><em>Selenium Grid 4</em> は新しい実装であり、以前のバージョンのコードベースを共有していません。</p><p>Grid 4には、ローカルでの実行を可能にしながら、スケールアップを容易にするために、
いくつかの新しいテクノロジーを利用するアプローチがあります。</p><p>Grid 4コンポーネントの詳細をすべて取得し、その仕組みと独自の設定方法を理解するには、
次のセクションを参照してください。</p></div></div><div class=td-content style=page-break-before:always><h1 id=pg-02408e6f29929673f408cd7c58af2135>1 - グリッドのコンポーネント</h1><div class="pageinfo pageinfo-warning"><p class=lead><i class="fas fa-language display-4"></i>
Page being translated from
English to Japanese. Do you speak Japanese? Help us to translate
it by sending us pull requests!</p></div><figure class="img-responsive text-center"><img src=/images/documentation/grid/components.png alt=Grid></figure><h2 id=ルーター>ルーター</h2><p>ルーターがリクエストを正しいコンポーネントに転送します。</p><p>これはGridのエントリポイントであり、すべての外部リクエストはGridによって受信されます。
ルーターの動作は、リクエストによって異なります。
新しいセッション要求の場合、ルーターはそれをディストリビュータに転送します（新しいセッションの作成が処理されます）。
リクエストが既存のセッションに属している場合、ルーターはセッションIDをセッションマップに送信し、
セッションマップはセッションが実行されているノードを返します。
この後、ルーターはリクエストをノードに転送します。</p><p>ルーターは、プロセスで不要なコンポーネントをオーバーロードすることなく、
より適切に処理できるコンポーネントにリクエストを送信することにより、
Grid内の負荷のバランスをとることを目的としています。</p><h2 id=ディストリビューター>ディストリビューター</h2><p>ディストリビューターは、すべてのノードとそのケイパビリティを認識しています。
その主な役割は、新しいセッション要求を受け取り、セッションを作成できる適切なノードを見つけることです。
セッションが作成されると、ディストリビューターは、
セッションIDとセッションが実行されているノードとの関係をセッションマップに格納します。</p><h2 id=ノード>ノード</h2><p>ノードはGrid内に数回存在することができます。
各ノードは、それが実行されているマシンの利用可能なブラウザのスロットを管理します。</p><p>ノードは、イベントバスを介して自身をディストリビューターに登録し、その構成は登録メッセージの一部として送信されます。</p><p>デフォルトでは、ノードは、実行されているマシンのパスで使用可能なすべてのブラウザードライバーを自動登録します。
また、ChromiumベースのブラウザーとFirefoxで使用可能なCPUごとに1つのスロットを作成します。
SafariおよびInternet Explorerの場合、作成されるスロットは1つだけです。
特定の構成を通じて、Dockerコンテナーでセッションを実行できます。
次の<a href=/ja/documentation/grid/setting_up_your_own_grid/>セクション</a>で構成の詳細を確認できます。</p><p>ノードは受信したコマンドを実行するだけで、評価、判断、制御は行いません。
ノードが実行されているマシンは、他のコンポーネントと同じオペレーティングシステムを持つ必要はありません。
たとえば、WindowsノードにはInternet Explorerをブラウザーオプションとして提供する機能がありますが、
これはLinuxまたはMacでは不可能です。</p><h2 id=session-map>Session Map</h2><p>The Session Map is a data store that keeps the information of the session id and the Node
where the session is running. It serves as a support for the Router in the process of
forwarding a request to the Node. The Router will ask the Session Map for the Node
associated to a session id.</p><h2 id=new-session-queuer-new-session-queue>New Session Queuer, New Session Queue</h2><p>The New Session Queuer is the only
component which can communicate with the New Session Queue. It handles all queue operations like
add to manipulate the queue. It has configurable parameters for setting
the request timeout and request retry interval.</p><p>The New Session Queuer receives the new session request from the Router and adds it to the queue.
The queuer waits until it receives the response for the request.
If the request times out, the request is rejected immediately and not added to the queue.</p><p>Upon successfully adding the request to the queue, Event Bus triggers an event.
The Distributor picks up this event and polls the queue. It now attempts to create a session.</p><p>If the requested capabilities do not exist in any of the registered Nodes, then the request is rejected
immediately and the client receives a response.</p><p>If the requested capabilities match the capabilities of any of Node slots, Distributor attempts to get the
available slot. If all the slots are busy, the Distributor will ask the queuer to add the request
to the front of the queue. The Distributor receives the request again after the request retry interval.
It will attempt retries until the request is successful or has timed out.
If request times out while retrying or adding to the front of the queue its rejected.</p><p>After getting an available slot and session creation, the Distributor passes the new session response
to the New Session Queuer via the Event Bus. The New Session Queuer will respond to the client when it
receives the event.</p><h2 id=event-bus>Event Bus</h2><p>The Event Bus serves as a communication path between the Nodes, Distributor, New Session Queuer, and Session Map.
The Grid does most of its internal communication through messages, avoiding expensive HTTP calls.
When starting the Grid in its fully distributed mode, the Event Bus is the first component that should be started.</p><h2 id=gridの役割>Gridの役割</h2><p>Grid3では、コンポーネントはハブとノードであり、スタンドアロンモードでGridを起動することでそれらを一緒に実行することが可能でした。
同じ概念がGrid4でも利用可能であり、上記のコンポーネントのいくつかをグループ化することでハブを実行することが可能です。
また、スタンドアロンモードですべてのコンポーネントを一緒に実行することも可能です。</p><h3 id=ハブ>ハブ</h3><p>ハブは、次のコンポーネントの結合です。</p><ul><li>ルーター</li><li>ディストリビューター</li><li>セッションマップ</li><li>イベントバス</li></ul><p>従来のハブとノードのセットアップを可能にします。</p><h3 id=スタンドアロン>スタンドアロン</h3><p>前述のように、スタンドアロンはすべてのコンポーネントの結合であり、ユーザーの目には、それらは1つのコンポーネントとして実行されます。
これには、ハブの一部であるすべてのコンポーネントと1つのノードが含まれます。
スタンドアロンモードで起動すると、1つの完全に機能するGridを使用できます。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-e9f49c6e79dedb0ae60eb7fce9dab623>2 - グリッドを使用する場合</h1><div class=lead>Is Grid the right tool for you?</div><div class="pageinfo pageinfo-warning"><p class=lead><i class="fas fa-language display-4"></i>
Page being translated from
English to Japanese. Do you speak Japanese? Help us to translate
it by sending us pull requests!</p></div><p>一般的に、グリッドを使用する理由は2つあります。</p><ul><li>複数のブラウザー、複数のバージョンのブラウザー、および異なるオペレーティングシステムで実行されているブラウザーに対してテストを実行するため。</li><li>テストスイートがテストがパスするのに完了するのにかかる時間を短縮するため。</li></ul><p>グリッドは、複数のマシンを使用してテストを並行して実行することにより、テストパスの実行を高速化するために使用されます。
たとえば、100個のテストスイートがあり、それらのテストを実行するために4つの異なるマシン（VMまたは個別の物理マシン）をサポートするようにグリッドをセットアップした場合、テストスイートは単一のマシンでテストを連続して実行した場合と比較して（およそ）4分の1の時間で完了します。
大規模なテストスイート、および大量のデータ検証を実行するような長時間実行されるテストスイートの場合、これは大幅な時間の節約になります。
一部のテストスイートの実行には数時間かかる場合があります。 スイートの実行に費やす時間を増やすもう1つの理由は、開発者がAUTのコードをチェックインした後のテスト結果の所要時間を短縮することです。
アジャイルソフトウェア開発を実践しているソフトウェアチームは、一晩テストパスを一晩待つのではなく、できるだけ早くテストフィードバックを求めています。</p><p>グリッドは、複数のランタイム環境、特に異なるブラウザーに対して同時に実行するテストをサポートするためにも使用されます。
たとえば、仮想マシンの"グリッド"は、テスト対象のアプリケーションがサポートする必要がある異なるブラウザーをサポートするようにセットアップできます。
したがって、マシン1にはInternet Explorer 8、マシン2、Internet Explorer 9、マシン3は最新のChrome、マシン4は最新のFirefoxを持っています。
テストスイートが実行されると、Selenium-Gridは各テストブラウザーの組み合わせを受け取り、必要なブラウザーに対して実行する各テストを割り当てます。</p><p>さらに、すべて同じブラウザ、タイプ、およびバージョンのグリッドを持つことができます。
たとえば、それぞれがFirefox 70の3つのインスタンスを実行する4台のマシンのグリッドを持つことができ、利用可能なFirefoxインスタンスの"ある意味"での"サーバーファーム"を可能にします。
スイートが実行されると、各テストはグリッドに渡され、グリッドは次に利用可能なFirefoxインスタンスにテストを割り当てます。 この方法で、おそらく12のテストがすべて同時に並行して実行されるテストパスを取得し、テストパスの完了に必要な時間を大幅に短縮します。</p><p>グリッドは非常に柔軟です。
これらの2つの例を組み合わせて、各ブラウザタイプとバージョンの複数のインスタンスを許可することができます。
このような構成では、迅速にテストがパスすることを完了するための並列実行と、複数のブラウザタイプおよびバージョンの同時サポートの両方が提供されます。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-49f410f0a27a1900aa33b689ecafdefb>3 - 独自のグリッドを設定する</h1><h2 id=selenium4でのグリッド設定のさまざまなモード>Selenium4でのグリッド設定のさまざまなモード</h2><ul><li>スタンドアロン</li><li>ハブとノード</li><li>分散</li><li>Docker</li></ul><h2 id=スタンドアロンモード>スタンドアロンモード</h2><p>新しいSeleniumServer Jarには、グリッドを実行するために必要なすべてのものが含まれています。
Seleniumグリッドを起動するのも最も簡単なモードです。
デフォルトでは、サーバーは http://localhost:4444 でリッスンします。
これは、RemoteWebDriverテストを指定する必要があるURLです。
サーバーは、システムパスから使用できる使用可能なドライバーを検出します。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>java -jar selenium-server-4.0.0-alpha-7.jar standalone
</code></pre></div><h2 id=ハブとノードモード>ハブとノードモード</h2><h3 id=ハブを開始する>ハブを開始する</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>java -jar selenium-server-4.0.0-alpha-7.jar hub
</code></pre></div><h3 id=ノードを登録する>ノードを登録する</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>java -jar selenium-server-4.0.0-alpha-7.jar node --detect-drivers <span style=color:#204a87>true</span>
</code></pre></div><h3 id=seleniumグリッドをクエリする>Seleniumグリッドをクエリする</h3><p>Selenium 4では、必要なデータを簡単にクエリしてまったく同じものを取得する新しい方法であるGraphQLを追加しました。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{ &#34;query&#34;: &#34;{grid{uri}}&#34; }&#39;</span> -s http://localhost:4444/graphql <span style=color:#000;font-weight:700>|</span> jq .
</code></pre></div><p><br><br></p><h2 id=分散モード>分散モード</h2><ul><li><p>Step 1: まず、イベントバスを開始します。
これは、後続のステップで他のグリッドコンポーネントへの通信パスとして機能します。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>java -jar selenium-server-4.0.0-alpha-7.jar  event-bus
</code></pre></div></li><li><p>Step 2: セッションマップを開始します。
これは、セッションIDをセッションが実行されているノードにマッピングする役割を果たします。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>    java -jar selenium-server-4.0.0-alpha-7.jar sessions
</code></pre></div></li><li><p>Step 3: 新しいセッションキューを起動すると、新しいセッション要求がローカルキューに追加されます。
ディストリビューターはキューからリクエストを受け取ります。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>    java -jar selenium-server-4.0.0-alpha-7.jar sessionqueue
</code></pre></div></li><li><p>Step 4: ディストリビューターを起動します。
すべてのノードは、ディストリビュータープロセスの一部として接続されます。
セッションの作成要求が呼び出されたときに、ノードを割り当てる必要があります。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>    java -jar selenium-server-4.0.0-alpha-7.jar distributor --sessions http://localhost:5556 --sessionqueue http://localhost:5559 --bind-bus <span style=color:#204a87>false</span>
</code></pre></div></li><li><p>Step 5: 次に、Webに公開するアドレスであるルーターを起動します。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>    java -jar selenium-server-4.0.0-alpha-7.jar router --sessions http://localhost:5556 --distributor http://localhost:5553 --sessionqueue http://localhost:5559
</code></pre></div></li><li><p>Step 6: 最後に、ノードを追加します。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>    java -jar selenium-server-4.0.0-alpha-7.jar node --detect-drivers <span style=color:#204a87>true</span>
</code></pre></div></li></ul><h2 id=dockerイメージを介してスタンドアロングリッドを開始する>Dockerイメージを介してスタンドアロングリッドを開始する</h2><p>次のコマンドでノードを起動できます。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>    java -jar selenium-server-4.0.0-alpha-1.jar node -D selenium/standalone-firefox:latest <span style=color:#4e9a06>&#39;{&#34;browserName&#34;: &#34;firefox&#34;}&#39;</span>
</code></pre></div><p>Seleniumサーバーを起動し、Dockerに新しいインスタンスを作成することを委任できます。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>     java -jar selenium-server-4.0.0-alpha-7.jar standalone -D selenium/standalone-firefox:latest <span style=color:#4e9a06>&#39;{&#34;browserName&#34;: &#34;firefox&#34;}&#39;</span> --detect-drivers <span style=color:#204a87>false</span>
</code></pre></div><h2 id=警告>警告</h2><p>Selenium Gridは、適切なファイアウォールアクセス許可を使用して外部アクセスから保護する必要があります。</p><p>グリッドを保護しないと、次の1つ以上が発生する可能性があります。</p><ul><li>グリッドインフラストラクチャへのオープンアクセスを提供します。</li><li>サードパーティが内部Webアプリケーションおよびファイルにアクセスすることを許可します。</li><li>サードパーティにカスタムバイナリの実行を許可します。</li></ul><p><a href=//labs.detectify.com>Detectify</a> に関するこのブログ投稿をご覧ください。
これは、公開されたグリッドが悪用される可能性のある概要を示しています。 <a href=//labs.detectify.com/2017/10/06/guest-blog-dont-leave-your-grid-wide-open/>Don&rsquo;t Leave your Grid Wide Open</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-043e53f63643a280f0471d5300fdb10d>4 - コンポーネントの構成</h1><div class=lead>前のセクションで説明したように、各グリッドコンポーネントは特定の役割を果たします。 したがって、各グリッドコンポーネントを個別に構成することができます。 このセクションでは、一般的な構成値とコンポーネント固有の構成値について説明します。</div></div><div class=td-content><h1 id=pg-bffb684498ef2064a08d1275054eeb9c>4.1 - 構成ヘルプ</h1><p>ヘルプコマンドは、現在のコード実装に基づいて情報を表示します。
したがって、ドキュメントが更新されない場合に備えて、正確な情報を提供します。
それは、新しいバージョンのグリッド4の構成について学習する最も簡単な方法です。</p><h2 id=info-コマンド>Info コマンド</h2><p>infoコマンドは、次のトピックに関する詳細なドキュメントを提供します。</p><ul><li>Seleniumの構成</li><li>セキュリティ</li><li>セッションマップの設定</li><li>トレース</li></ul><h3 id=構成ヘルプ>構成ヘルプ</h3><p>クイック設定のヘルプと概要は、以下を実行することで提供されます。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>java -jar selenium-server-4.0.0-alpha-7.jar info config
</code></pre></div><h3 id=セキュリティ>セキュリティ</h3><p>安全な通信とノード登録のためのグリッドサーバーの設定の詳細を取得するには、以下を実行します。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>java -jar selenium-server-4.0.0-alpha-7.jar info security
</code></pre></div><h3 id=セッションマップの設定>セッションマップの設定</h3><p>デフォルトでは、グリッドはローカルセッションマップを使用してセッション情報を保存します。
グリッドは、RedisやJDBC-SQLがサポートするデータベースなどの追加のストレージオプションをサポートしています。
別のセッションストレージをセットアップするには、次のコマンドを使用してセットアップ手順を取得します。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>java -jar selenium-server-4.0.0-alpha-7.jar info sessionmap
</code></pre></div><h3 id=opentelemetryとjaegerを使用したトレースの設定>OpenTelemetryとJaegerを使用したトレースの設定</h3><p>デフォルトでは、トレースは有効になっています。
トレースをエクスポートしてJaeger経由で視覚化するには、次のコマンドを使用して手順を実行します。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>java -jar selenium-server-4.0.0-alpha-7.jar info tracing
</code></pre></div><h2 id=seleniumgridコマンドを一覧表示する>SeleniumGridコマンドを一覧表示する</h2><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>java -jar selenium-server-4.0.0-alpha-7.jar --config-help
</code></pre></div><p>使用可能なすべてのコマンドとそれぞれの説明が表示されます。</p><h2 id=コンポーネントヘルプコマンド>コンポーネントヘルプコマンド</h2><p>Seleniumロールの後に–help configオプションを渡して、コンポーネント固有の構成情報を取得します。</p><h3 id=スタンドアロン>スタンドアロン</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>java -jar selenium-server-4.0.0-alpha-7.jar standalone --help
</code></pre></div><h3 id=ハブ>ハブ</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>java -jar selenium-server-4.0.0-alpha-7.jar hub --help
</code></pre></div><h3 id=セッション>セッション</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>java -jar selenium-server-4.0.0-alpha-7.jar sessions --help
</code></pre></div><h3 id=新しいセッションキューラー>新しいセッションキューラー</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>java -jar selenium-server-4.0.0-alpha-7.jar sessionqueuer --help
</code></pre></div><h3 id=ディストリビューター>ディストリビューター</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>java -jar selenium-server-4.0.0-alpha-7.jar distributor --help
</code></pre></div><h3 id=ルーター>ルーター</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>java -jar selenium-server-4.0.0-alpha-7.jar router --help
</code></pre></div><h3 id=ノード>ノード</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>java -jar selenium-server-4.0.0-alpha-7.jar node --help
</code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-abac6f77089fbf05fa24eca43aebeddf>5 - 高度な機能</h1><div class=lead>高度な機能のすべての詳細を取得し、それがどのように機能するか、および独自の設定方法を理解するには、次のセクションを参照してください。</div></div><div class=td-content><h1 id=pg-cff3310fa01f534cfe804c3e76ae9056>5.1 - Observability</h1><div class="pageinfo pageinfo-warning"><p class=lead><i class="fas fa-language display-4"></i>
Page being translated from
English to Japanese. Do you speak Japanese? Help us to translate
it by sending us pull requests!</p></div><h2 id=table-of-contents>Table of Contents</h2><ul><li><a href=#selenium-grid>Selenium Grid</a></li><li><a href=#observability>Observability</a><ul><li><a href=#distributed-tracing>Distributed tracing</a></li><li><a href=#event-logging>Event logging</a></li></ul></li><li><a href=#grid-observability>Grid Observability</a><ul><li><a href=#visualizing-traces>Visualizing Traces</a></li><li><a href=#leveraging-event-logs>Leveraging event logs</a></li></ul></li><li><a href=#references>References</a></li></ul><h2 id=selenium-grid>Selenium Grid</h2><p>Grid aids in scaling and distributing tests by executing tests on various browser and operating system combinations.</p><h2 id=observability>Observability</h2><p>Observability has three pillars: traces, metrics and logs. Since Selenium Grid 4 is designed to be fully distributed, observability will make it easier to understand and debug the internals.</p><h2 id=distributed-tracing>Distributed tracing</h2><p>A single request or transaction spans multiple services and components. Tracing tracks the request lifecycle as each service executes the request. It is useful in debugging in an error scenario.
Some key terms used in tracing context are:</p><p><strong>Trace</strong>
Tracing allows one to trace a request through multiple services, starting from its origin to its final destination. This request&rsquo;s journey helps in debugging, monitoring the end-to-end flow, and identifying failures. A trace depicts the end-to-end request flow. Each trace has a unique id as its identifier.</p><p><strong>Span</strong>
Each trace is made up of timed operations called spans. A span has a start and end time and it represents operations done by a service. The granularity of span depends on how it is instrumented. Each span has a unique identifier. All spans within a trace have the same trace id.</p><p><strong>Span Attributes</strong>
Span attributes are key-value pairs which provide additional information about each span.</p><p><strong>Events</strong>
Events are timed-stamped logs within a span. They provide additional context to the existing spans. Events also contain key-value pairs as event attributes.</p><h2 id=event-logging>Event logging</h2><p>Logging is essential to debug an application. Logging is often done in a human-readable format. But for machines to search and analyze the logs, it has to have a well-defined format. Structured logging is a common practice of recording logs consistently in a fixed format. It commonly contains fields like:</p><ul><li>Timestamp</li><li>Logging level</li><li>Logger class</li><li>Log message (This is further broken down into fields relevant to the operation where the log was recorded)</li></ul><p>Logs and events are closely related. Events encapsulate all the possible information available to do a single unit of work. Logs are essentially subsets of an event. At the crux, both aid in debugging.
Refer following resources for detailed understanding:</p><ol><li><a href=https://www.honeycomb.io/blog/how-are-structured-logs-different-from-events/>https://www.honeycomb.io/blog/how-are-structured-logs-different-from-events/</a></li><li><a href=https://charity.wtf/2019/02/05/logs-vs-structured-events/>https://charity.wtf/2019/02/05/logs-vs-structured-events/</a></li></ol><h2 id=grid-observability>Grid Observability</h2><p>Selenium server is instrumented with tracing using OpenTelemetry. Every request to the server is traced from start to end. Each trace consists of a series of spans as a request is executed within the server.
Most spans in the Selenium server consist of two events:</p><ol><li>Normal event - records all information about a unit of work and marks successful completion of the work.</li><li>Error event - records all information till the error occurs and then records the error information. Marks an exception event.</li></ol><p>Running Selenium server</p><ol><li><a href=https://github.com/SeleniumHQ/selenium/wiki/Selenium-Grid-4#standalone-mode>Standalone</a></li><li><a href=https://github.com/SeleniumHQ/selenium/wiki/Selenium-Grid-4#hub-and-node>Hub and Node</a></li><li><a href=https://github.com/SeleniumHQ/selenium/wiki/Selenium-Grid-4#fully-distributed>Fully Distributed</a></li><li><a href=https://github.com/SeleniumHQ/selenium/wiki/Selenium-Grid-4#using-docker>Docker</a></li></ol><h2 id=visualizing-traces>Visualizing Traces</h2><p>All spans, events and their respective attributes are part of a trace. Tracing works while running the server in all of the above-mentioned modes.</p><p>By default, tracing is enabled in the Selenium server. Selenium server exports the traces via two exporters:</p><ol><li>Console - Logs all traces and their included spans at FINE level. By default, Selenium server prints logs at INFO level and above.
The <strong>log-level</strong> flag can be used to pass a logging level of choice while running the Selenium Grid jar/s.</li></ol><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>java -jar selenium-server-4.0.0-&lt;selenium-version&gt;.jar standalone --log-level FINE
</code></pre></div><ol start=2><li>Jaeger UI - OpenTelemetry provides the APIs and SDKs to instrument traces in the code. Whereas Jaeger is a tracing backend, that aids in collecting the tracing telemetry data and providing querying, filtering and visualizing features for the data.</li></ol><p>Detailed instructions of visualizing traces using Jaeger UI can be obtained by running the command :</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>java -jar selenium-server-4.0.0-&lt;selenium-version&gt;.jar info tracing
</code></pre></div><p><a href=https://github.com/manoj9788/tracing-selenium-grid>A very good example and scripts to run the server and send traces to Jaeger</a></p><h2 id=leveraging-event-logs>Leveraging event logs</h2><p>Tracing has to be enabled for event logging as well, even if one does not wish to export traces to visualize them.<br><strong>By default, tracing is enabled. No additional parameters need to be passed to see logs on the console.</strong>
All events within a span are logged at FINE level. Error events are logged at WARN level.</p><p>All event logs have the following fields :</p><table><thead><tr><th>Field</th><th>Field value</th><th>Description</th></tr></thead><tbody><tr><td>Event time</td><td>eventId</td><td>Timestamp of the event record in epoch nanoseconds.</td></tr><tr><td>Trace Id</td><td>tracedId</td><td>Each trace is uniquely identified by a trace id.</td></tr><tr><td>Span Id</td><td>spanId</td><td>Each span within a trace is uniquely identified by a span id.</td></tr><tr><td>Span Kind</td><td>spanKind</td><td>Span kind is a property of span indicating the type of span. It helps in understanding the nature of the unit of work done by the Span.</td></tr><tr><td>Event name</td><td>eventName</td><td>This maps to the log message.</td></tr><tr><td>Event attributes</td><td>eventAttributes</td><td>This forms the crux of the event logs, based on the operation executed, it has JSON formatted key-value pairs. This also includes a handler class attribute, to show the logger class.</td></tr></tbody></table><p>Sample log</p><pre><code>FINE [LoggingOptions$1.lambda$export$1] - {
  &quot;traceId&quot;: &quot;fc8aef1d44b3cc8bc09eb8e581c4a8eb&quot;,
  &quot;spanId&quot;: &quot;b7d3b9865d3ddd45&quot;,
  &quot;spanKind&quot;: &quot;INTERNAL&quot;,
  &quot;eventTime&quot;: 1597819675128886121,
  &quot;eventName&quot;: &quot;Session request execution complete&quot;,
  &quot;attributes&quot;: {
    &quot;http.status_code&quot;: 200,
    &quot;http.handler_class&quot;: &quot;org.openqa.selenium.grid.router.HandleSession&quot;,
    &quot;http.url&quot;: &quot;\u002fsession\u002fdd35257f104bb43fdfb06242953f4c85&quot;,
    &quot;http.method&quot;: &quot;DELETE&quot;,
    &quot;session.id&quot;: &quot;dd35257f104bb43fdfb06242953f4c85&quot;
  }
}
</code></pre><p>In addition to the above fields, based on <a href=https://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/trace/semantic_conventions/exceptions.md>OpenTelemetry specification</a> error logs consist of :</p><table><thead><tr><th>Field</th><th>Field value</th><th>Description</th></tr></thead><tbody><tr><td>Exception type</td><td>exception.type</td><td>The class name of the exception.</td></tr><tr><td>Exception message</td><td>exception.message</td><td>Reason for the exception.</td></tr><tr><td>Exception stacktrace</td><td>exception.stacktrace</td><td>Prints the call stack at the point of time when the exception was thrown. Helps in understanding the origin of the exception.</td></tr></tbody></table><p>Sample error log</p><pre><code>WARN [LoggingOptions$1.lambda$export$1] - {
  &quot;traceId&quot;: &quot;7efa5ea57e02f89cdf8de586fe09f564&quot;,
  &quot;spanId&quot;: &quot;914df6bc9a1f6e2b&quot;,
  &quot;spanKind&quot;: &quot;INTERNAL&quot;,
  &quot;eventTime&quot;: 1597820253450580272,
  &quot;eventName&quot;: &quot;exception&quot;,
  &quot;attributes&quot;: {
    &quot;exception.type&quot;: &quot;org.openqa.selenium.ScriptTimeoutException&quot;,
    &quot;exception.message&quot;: &quot;Unable to execute request: java.sql.SQLSyntaxErrorException: Table 'mysql.sessions_mappa' doesn't exist ...&quot; (full message will be printed),
    &quot;exception.stacktrace&quot;: &quot;org.openqa.selenium.ScriptTimeoutException: java.sql.SQLSyntaxErrorException: Table 'mysql.sessions_mappa' doesn't exist\nBuild info: version: '4.0.0-alpha-7', revision: 'Unknown'\nSystem info: host: 'XYZ-MacBook-Pro.local', ip: 'fe80:0:0:0:10d5:b63a:bdc6:1aff%en0', os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '10.13.6', java.version: '11.0.7'\nDriver info: driver.version: unknown ....&quot; (full stack will be printed),
    &quot;http.handler_class&quot;: &quot;org.openqa.selenium.grid.distributor.remote.RemoteDistributor&quot;,
    &quot;http.url&quot;: &quot;\u002fsession&quot;,
    &quot;http.method&quot;: &quot;POST&quot;
  }
}
</code></pre><p>Note: Logs are pretty printed above for readability. Pretty printing for logs is turned off in Selenium server.</p><p>The steps above should set you up for seeing traces and logs.</p><h2 id=references>References</h2><ol><li><a href=https://lightstep.com/blog/opentelemetry-101-what-is-tracing/>Understanding Tracing</a></li><li><a href=https://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/trace/api.md#status>OpenTelemetry Tracing API Specification</a></li><li><a href=https://github.com/SeleniumHQ/selenium/wiki>Selenium Wiki</a></li><li><a href=https://www.honeycomb.io/blog/how-are-structured-logs-different-from-events/>Structured logs vs events</a></li><li><a href=https://github.com/jaegertracing/jaeger>Jaeger framework</a></li></ol></div><div class=td-content style=page-break-before:always><h1 id=pg-b11540ed82255545d0e8201c6e111a70>5.2 - GraphQLクエリのサポート</h1><p>GraphQLは、APIのクエリ言語であり、既存のデータでこれらのクエリを実行するためのランタイムです。
これにより、ユーザーは必要なものだけを正確に要求することができます。</p><h2 id=列挙型enum>列挙型(Enum)</h2><p>列挙型は、フィールドの可能な値のセットを表します。</p><p>たとえば、 <code>Node</code> オブジェクトには <code>status</code> というフィールドがあります。
<code>UP</code> 、 <code>DRAINING</code> 、または <code>UNAVAILABLE</code> の可能性があるため、状態は、 列挙型（具体的には、<code>Status</code> タイプ）です。</p><h2 id=スカラー>スカラー</h2><p>スカラーはプリミティブ値です： <code>Int</code> 、 <code>Float</code> 、 <code>String</code> 、 <code>Boolean</code> 、または <code>ID</code> 。</p><p>GraphQL APIを呼び出すときは、スカラーのみを返すまでネストされたサブフィールドを指定する必要があります。</p><h2 id=スキーマの構造>スキーマの構造</h2><p>グリッドスキーマの構造は次のとおりです。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#ce5c00;font-weight:700>{</span>
    session<span style=color:#ce5c00;font-weight:700>(</span>id: <span style=color:#4e9a06>&#34;&lt;session-id&gt;&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> : <span style=color:#ce5c00;font-weight:700>{</span>
        id,
        capabilities,
        startTime,
        uri,
        nodeId,
        nodeUri,
        sessionDurationMillis
        slot : <span style=color:#ce5c00;font-weight:700>{</span>
            id,
            stereotype,
            lastStarted
        <span style=color:#ce5c00;font-weight:700>}</span>
    <span style=color:#ce5c00;font-weight:700>}</span>
    grid: <span style=color:#ce5c00;font-weight:700>{</span>
        uri,
        totalSlots,
        nodeCount,
        maxSession,
        sessionCount,
        version,
        sessionQueueSize
    <span style=color:#ce5c00;font-weight:700>}</span>
    sessionsInfo: <span style=color:#ce5c00;font-weight:700>{</span>
        sessionQueueRequests,
        sessions: <span style=color:#ce5c00;font-weight:700>[</span>
            <span style=color:#ce5c00;font-weight:700>{</span>
                id,
                capabilities,
                startTime,
                uri,
                nodeId,
                nodeUri,
                sessionDurationMillis
                slot : <span style=color:#ce5c00;font-weight:700>{</span>
                    id,
                    stereotype,
                    lastStarted
                <span style=color:#ce5c00;font-weight:700>}</span>
            <span style=color:#ce5c00;font-weight:700>}</span>
        <span style=color:#ce5c00;font-weight:700>]</span>
    <span style=color:#ce5c00;font-weight:700>}</span>
    nodesInfo: <span style=color:#ce5c00;font-weight:700>{</span>
        nodes : <span style=color:#ce5c00;font-weight:700>[</span>
            <span style=color:#ce5c00;font-weight:700>{</span>
                id,
                uri,
                status,
                maxSession,
                slotCount,
                sessions: <span style=color:#ce5c00;font-weight:700>[</span>
                    <span style=color:#ce5c00;font-weight:700>{</span>
                        id,
                        capabilities,
                        startTime,
                        uri,
                        nodeId,
                        nodeUri,
                        sessionDurationMillis
                        slot : <span style=color:#ce5c00;font-weight:700>{</span>
                            id,
                            stereotype,
                            lastStarted
                        <span style=color:#ce5c00;font-weight:700>}</span>
                    <span style=color:#ce5c00;font-weight:700>}</span>
                <span style=color:#ce5c00;font-weight:700>]</span>,
                sessionCount,
                stereotypes,
                version,
                osInfo: <span style=color:#ce5c00;font-weight:700>{</span>
                    arch,
                    name,
                    version
                <span style=color:#ce5c00;font-weight:700>}</span>
            <span style=color:#ce5c00;font-weight:700>}</span>
        <span style=color:#ce5c00;font-weight:700>]</span>
    <span style=color:#ce5c00;font-weight:700>}</span>
<span style=color:#ce5c00;font-weight:700>}</span>
</code></pre></div><h2 id=graphqlで照会する>GraphQLで照会する</h2><p>GraphQLをクエリする最良の方法は、 <code>curl</code> リクエストを使用することです。
GraphQLを使用すると、必要なデータのみをフェッチできます。それ以上でもそれ以下でもありません。</p><p>GraphQLクエリの例のいくつかを以下に示します。 必要に応じて独自のクエリを作成できます。</p><h3 id=グリッド内の-maxsessionと-sessioncountの数を照会する>グリッド内の <code>maxSession</code>と<code> sessionCount</code>の数を照会する</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;: &#34;{ grid { maxSession, sessionCount } }&#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</code></pre></div><p>通常、ローカルマシンでは、 <code>&lt;LINK_TO_GRAPHQL_ENDPOINT></code> は <code>http://localhost:4444/graphql</code> になります。</p><h3 id=セッションノードグリッドのすべての詳細を照会する>セッション、ノード、グリッドのすべての詳細を照会する</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;:&#34;{ grid { uri, maxSession, sessionCount }, nodesInfo { nodes { id, uri, status, sessions { id, capabilities, startTime, uri, nodeId, nodeUri, sessionDurationMillis, slot { id, stereotype, lastStarted } }, slotCount, sessionCount }} }&#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</code></pre></div><h3 id=グリッドで現在のセッション数を取得するためのクエリ>グリッドで現在のセッション数を取得するためのクエリ</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;:&#34;{ grid { sessionCount } }&#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</code></pre></div><h3 id=グリッドで最大セッション数を取得するためのクエリ>グリッドで最大セッション数を取得するためのクエリ</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;:&#34;{ grid { maxSession } }&#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</code></pre></div><h3 id=グリッド内のすべてのノードのすべてのセッションの詳細を取得するためのクエリ>グリッド内のすべてのノードのすべてのセッションの詳細を取得するためのクエリ</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;:&#34;{ sessionsInfo { sessions { id, capabilities, startTime, uri, nodeId, nodeId, sessionDurationMillis } } }&#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</code></pre></div><h3 id=グリッド内の各ノードのすべてのセッションのスロット情報を取得するためのクエリ>グリッド内の各ノードのすべてのセッションのスロット情報を取得するためのクエリ</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;:&#34;{ sessionsInfo { sessions { id, slot { id, stereotype, lastStarted } } } }&#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</code></pre></div><h3 id=特定のセッションのセッション情報を取得するためのクエリ>特定のセッションのセッション情報を取得するためのクエリ</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;:&#34;{ session (id: &#34;&lt;session-id&gt;&#34;) { id, capabilities, startTime, uri, nodeId, nodeUri, sessionDurationMillis, slot { id, stereotype, lastStarted } } } &#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</code></pre></div><h3 id=グリッド内の各ノードのcapabilityを照会する>グリッド内の各ノードのcapabilityを照会する</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;: &#34;{ nodesInfo { nodes { stereotypes } } }&#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</code></pre></div><h3 id=グリッド内の各ノードのステータスを照会する>グリッド内の各ノードのステータスを照会する</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;: &#34;{ nodesInfo { nodes { status } } }&#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</code></pre></div><h3 id=各ノードとグリッドのuriを照会する>各ノードとグリッドのURIを照会する</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;: &#34;{ nodesInfo { nodes { uri } } }&#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</code></pre></div><h3 id=新しいセッションキューで現在のリクエストを取得するためのクエリ>新しいセッションキューで現在のリクエストを取得するためのクエリ</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;:&#34;{ sessionsInfo { sessionQueueRequests } }&#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</code></pre></div><h3 id=新しいセッションキューのサイズを取得するためのクエリ>新しいセッションキューのサイズを取得するためのクエリ</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>curl -X POST -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> --data <span style=color:#4e9a06>&#39;{&#34;query&#34;:&#34;{ grid { sessionQueueSize } }&#34;}&#39;</span> -s &lt;LINK_TO_GRAPHQL_ENDPOINT&gt;
</code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-105bc319afd22086b340fa924a506dd6>5.3 - Grid Endpoints</h1><div class="pageinfo pageinfo-warning"><p class=lead><i class="fas fa-language display-4"></i>
Page being translated from
English to Japanese. Do you speak Japanese? Help us to translate
it by sending us pull requests!</p></div><h2 id=grid>Grid</h2><h3 id=grid-status>Grid Status</h3><p>Grid status provides the current state of the Grid. It consists of details about every registered Node.
For every Node, the status includes information regarding Node availability, sessions, and slots.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>cURL GET <span style=color:#4e9a06>&#39;http://localhost:4444/status&#39;</span>
</code></pre></div><p>In the Standalone mode, the Grid URL is the Standalone server address.</p><p>In the Hub-Node mode, the Grid URL is the Hub server address.</p><p>In the fully distributed mode, the Grid URL is the Router server address.</p><p>Default URL for all the above modes is http://localhost:4444.</p><h2 id=distributor>Distributor</h2><h3 id=remove-node>Remove Node</h3><p>To remove the Node from the Grid, use the cURL command enlisted below.
It does not stop any ongoing session running on that Node.
The Node continues running as it is unless explicitly killed.
The Distributor is no longer aware of the Node and hence any matching new session request
will not be forwarded to that Node.</p><p>In the Standalone mode, the Distributor URL is the Standalone server address.</p><p>In the Hub-Node mode, the Distributor URL is the Hub server address.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>cURL --request DELETE <span style=color:#4e9a06>&#39;http://localhost:4444/se/grid/distributor/node/&lt;node-id&gt;&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET: &lt;secret&gt; &#39;</span>
</code></pre></div><p>In the fully distributed mode, the URL is the Distributor server address.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>cURL --request DELETE <span style=color:#4e9a06>&#39;http://localhost:5553/se/grid/distributor/node/&lt;node-id&gt;&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET: &lt;secret&gt;&#39;</span>
</code></pre></div><p>If no registration secret has been configured while setting up the Grid, then use</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>cURL --request DELETE <span style=color:#4e9a06>&#39;http://&lt;Distributor-URL&gt;/se/grid/distributor/node/&lt;node-id&gt;&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET;&#39;</span>
</code></pre></div><h3 id=drain-node>Drain Node</h3><p>Node drain command is for graceful node shutdown.
Draining a Node stops the Node after all the ongoing sessions are complete.
However, it does not accept any new session requests.</p><p>In the Standalone mode, the Distributor URL is the Standalone server address.</p><p>In the Hub-Node mode, the Distributor URL is the Hub server address.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>cURL --request POST <span style=color:#4e9a06>&#39;http://localhost:4444/se/grid/distributor/node/&lt;node-id&gt;/drain&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET: &lt;secret&gt; &#39;</span>
</code></pre></div><p>In the fully distributed mode, the URL is the Distributor server address.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>cURL --request POST <span style=color:#4e9a06>&#39;http://localhost:5553/se/grid/distributor/node/&lt;node-id&gt;/drain&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET: &lt;secret&gt;&#39;</span>
</code></pre></div><p>If no registration secret has been configured while setting up the Grid, then use</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>cURL --request POST <span style=color:#4e9a06>&#39;http://&lt;Distributor-URL&gt;/se/grid/distributor/node/&lt;node-id&gt;/drain&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET;&#39;</span>
</code></pre></div><h2 id=node>Node</h2><p>The endpoints in this section are applicable for Hub-Node mode and fully distributed Grid mode where the
Node runs independently.
The default Node URL is http://localhost:5555 in case of one Node.
In case of multiple Nodes, use <a href=#grid-status>Grid status</a> to get all Node details and locate the Node address.</p><h3 id=status>Status</h3><p>The Node status is essentially a health-check for the Node.
Distributor pings the node status are regular intervals and updates the Grid Model accordingly.
The status includes information regarding availability, sessions, and slots.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>cURL --request GET <span style=color:#4e9a06>&#39;http://localhost:5555/status&#39;</span>
</code></pre></div><h3 id=drain>Drain</h3><p>Distributor passes the <a href=#drain-node>drain</a> command to the appropriate node identified by the node-id.
To drain the Node directly, use the cuRL command enlisted below.
Both endpoints are valid and produce the same result. Drain finishes the ongoing sessions before stopping the Node.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>cURL --request POST <span style=color:#4e9a06>&#39;http://localhost:5555/se/grid/node/drain&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET: &lt;secret&gt;&#39;</span>
</code></pre></div><p>If no registration secret has been configured while setting up the Grid, then use</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>cURL --request POST <span style=color:#4e9a06>&#39;http://&lt;node-URL&gt;/se/grid/node/drain&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET;&#39;</span>
</code></pre></div><h3 id=check-session-owner>Check session owner</h3><p>To check if a session belongs to a Node, use the cURL command enlisted below.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>cURL --request GET <span style=color:#4e9a06>&#39;http://localhost:5555/se/grid/node/owner/&lt;session-id&gt;&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET: &lt;secret&gt;&#39;</span>
</code></pre></div><p>If no registration secret has been configured while setting up the Grid, then use</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>cURL --request GET <span style=color:#4e9a06>&#39;http://&lt;node-URL&gt;/se/grid/node/owner/&lt;session-id&gt;&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET;&#39;</span>
</code></pre></div><p>It will return true if the session belongs to the Node else it will return false.</p><h3 id=delete-session>Delete session</h3><p>Deleting the session terminates the WebDriver session, quits the driver and removes it from the active sessions map.
Any request using the removed session-id or reusing the driver instance will throw an error.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>cURL --request DELETE <span style=color:#4e9a06>&#39;http://localhost:5555/se/grid/node/session/&lt;session-id&gt;&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET: &lt;secret&gt;&#39;</span>
</code></pre></div><p>If no registration secret has been configured while setting up the Grid, then use</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>cURL --request DELETE <span style=color:#4e9a06>&#39;http://&lt;node-URL&gt;/se/grid/node/session/&lt;session-id&gt;&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET;&#39;</span>
</code></pre></div><h2 id=new-session-queue>New Session Queue</h2><h3 id=clear-new-session-queue>Clear New Session Queue</h3><p>New Session Request Queue holds the new session requests.
To clear the queue, use the cURL command enlisted below.
Clearing the queue rejects all the requests in the queue. For each such request, the server returns an error response to the respective client.
The result of the clear command is the total number of deleted requests.</p><p>In the Standalone mode, the queuer URL is the Standalone server address.</p><p>In the Hub-Node mode, the queuer URL is the Hub server address.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>cURL --request DELETE <span style=color:#4e9a06>&#39;http://localhost:4444/se/grid/newsessionqueuer/queue&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET: &lt;secret&gt;&#39;</span>
</code></pre></div><p>In the fully distributed mode, the queuer URL is New Session Queuer server address.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>cURL --request DELETE <span style=color:#4e9a06>&#39;http://localhost:5559/se/grid/newsessionqueuer/queue&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET: &lt;secret&gt;&#39;</span>
</code></pre></div><p>If no registration secret has been configured while setting up the Grid, then use</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>cURL --request DELETE <span style=color:#4e9a06>&#39;http://&lt;URL&gt;/se/grid/newsessionqueuer/queue&#39;</span> --header <span style=color:#4e9a06>&#39;X-REGISTRATION-SECRET;&#39;</span>
</code></pre></div><h3 id=get-new-session-queue-requests>Get New Session Queue Requests</h3><p>New Session Request Queue holds the new session requests.
To get the current requests in the queue, use the cURL command enlisted below.
The response returns the total number of requests in the queue and the request payloads.</p><p>In the Standalone mode, the queuer URL is the Standalone server address.</p><p>In the Hub-Node mode, the queuer URL is the Hub server address.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>cURL --request GET <span style=color:#4e9a06>&#39;http://localhost:4444/se/grid/newsessionqueuer/queue&#39;</span>
</code></pre></div><p>In the fully distributed mode, the queuer URL is New Session Queuer server address.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>cURL --request GET <span style=color:#4e9a06>&#39;http://localhost:5559/se/grid/newsessionqueuer/queue&#39;</span>
</code></pre></div></div></main></div></div><div class="row justify-content-center p-5"><h2 class="selenium text-center">Selenium Level Sponsors</h2></div><div class="row justify-content-around pt-4 pb-5 px-5"><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href="http://www.browserstack.com/automate/?utm_campaign=open-source-sponsor&utm_source=seleniumorg&utm_medium=referral" class=border-0><img class="w-100 shadow-1-strong rounded" src=/images/sponsors/browserstack.png alt=BrowserStack></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=http://saucelabs.com class=border-0><img class="w-100 shadow-1-strong rounded" src=/images/sponsors/saucelabs.png alt="Sauce Labs"></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=http://bit.ly/36uZ7ad class=border-0><img class="w-100 shadow-1-strong rounded" src=/images/sponsors/experitest.png alt=Experitest></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=https://applitools.com/ class=border-0><img class="w-100 shadow-1-strong rounded" src=/images/sponsors/applitools.png alt=Applitools></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=https://www.perfecto.io/ class=border-0><img class="w-100 shadow-1-strong rounded" src=/images/sponsors/perfecto-perforce.jpg alt=Perfecto></a></div><div class="col-lg-3 col-md-6 mb-4 mb-lg-0 align-self-center px-5 py-3"><a href=https://www.lambdatest.com/selenium-automation class=border-0><img class="w-100 shadow-1-strong rounded" src=/images/sponsors/lambda-test.png alt=LambdaTest></a></div></div><div class="row justify-content-center pt-2 pb-3 -bg-selenium-cyan"><div class="card text-center border-0 bg-transparent py-5"><div class=card-body><h2 class=card-title>Support the Selenium Project</h2><p class=card-text></p><div class=selenium-button-container><a href=/sponsors class="selenium-button selenium-white-cyan text-uppercase font-weight-bold">Learn more
<i class="pl-3 fas fa-caret-right"></i></a></div></div></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank rel=noopener href=http://groups.google.com/group/selenium-users aria-label="User mailing list"><i class="fas fa-mail-bulk"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Selenium in Twitter" aria-label="Selenium in Twitter"><a class=text-white target=_blank rel=noopener href=https://twitter.com/SeleniumHQ aria-label="Selenium in Twitter"><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="SeleniumConf YouTube Channel" aria-label="SeleniumConf YouTube Channel"><a class=text-white target=_blank rel=noopener href=https://www.youtube.com/channel/UCbDlgX_613xNMrDqCe3QNEw aria-label="SeleniumConf YouTube Channel"><i class="fab fa-youtube"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Selenium in Facebook" aria-label="Selenium in Facebook"><a class=text-white target=_blank rel=noopener href=https://www.facebook.com/Selenium2.WebDriver aria-label="Selenium in Facebook"><i class="fab fa-facebook"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Software Freedom Conservancy" aria-label="Software Freedom Conservancy"><a class=text-white target=_blank rel=noopener href=mailto:selenium@sfconservancy.org aria-label="Software Freedom Conservancy"><i class="fas fa-envelope-square"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/seleniumhq/selenium aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel=noopener href=https://example.org/slack aria-label=Slack><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=IRC aria-label=IRC><a class=text-white target=_blank rel=noopener href=https://example.org/irc aria-label=IRC><i class="fas fa-comments"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer mailing list" aria-label="Developer mailing list"><a class=text-white target=_blank rel=noopener href=https://groups.google.com/g/selenium-developers aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2021 Software Freedom Conservancy All Rights Reserved</small><p class=mt-2><a href=/ja/documentation/about/>このドキュメントについて</a></p></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/js/main.min.3b172c13b62c2bea8b1c9d2599cddc8cf89718a92d792c680871c81ba43d8c85.js integrity="sha256-OxcsE7YsK+qLHJ0lmc3cjPiXGKkteSxoCHHIG6Q9jIU=" crossorigin=anonymous></script></body></html>